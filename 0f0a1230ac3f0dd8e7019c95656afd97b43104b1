{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "0b86d73b_652e5792",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 9,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-01-12T21:17:27Z",
      "side": 1,
      "message": "In my personal experience, JGit GC is a lot more suitable for Gerrit than Git GC. Can you explain the rationale behind this?",
      "range": {
        "startLine": 9,
        "startChar": 29,
        "endLine": 9,
        "endChar": 61
      },
      "revId": "0f0a1230ac3f0dd8e7019c95656afd97b43104b1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d3c87ae0_68c5197b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 9,
      "author": {
        "id": 1127770
      },
      "writtenOn": "2023-01-13T11:13:02Z",
      "side": 1,
      "message": "There are 2 main reasons:\n1. lots of admins doesn\u0027t use gc-conductor/gc-executors and they are preferring to run native git gc run by crone job.\n2. Performance. \n\nMore details:\nAfter moving from 2.14-\u003e 3.4 witch has a notedb we spotted significant gc performance degradation for notedb and few biggest repos. This also slow down upgrade process significantly. The solution was to disable gc during upgrade and run native gc from hand between upgrade steps. We also decide that for all-users and 3 other biggest repos we will not run jgit gc but use native one instead. We want to keep gc-conductor/ gc-executor for monitoring and loging so we design this solution and we already using this on 1 of prod instances and big UAT environment.\nRegarding performance difference on all-users I don remember exact numbers but scale should be more less ok JGIT GC 2.14 (up to 11h) JGIT GC 3.4 (up to 48h) native GC on 3.4 (40minutes).\nDuring brief investigation i spotted that native git gc uses more cores during all all steps during gc.",
      "parentUuid": "0b86d73b_652e5792",
      "range": {
        "startLine": 9,
        "startChar": 29,
        "endLine": 9,
        "endChar": 61
      },
      "revId": "0f0a1230ac3f0dd8e7019c95656afd97b43104b1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}